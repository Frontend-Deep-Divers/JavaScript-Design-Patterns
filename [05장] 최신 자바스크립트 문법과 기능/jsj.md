# 5장 최신 자바스크립트 문법과 기능

## 5.1 애플리케이션 분리의 중요성

- 모듈형 자바스크립트는 애플리케이션을 모듈이라는 단위로 쪼갤 수 있음
- 모듈은 다른 모듈을 가져올 수 있으며, 여러개의 중첩된 모듈로 애플리케이션이 구성될 수 도 있음
- 모듈형 : 자바스크립트에서 애플리케이션이 잘게 분리된 모듈로 구성되었음을 뜻함. 이렇게 이루어진 느슨한 결합은 의존성을 낮추어 유지보수를 용이하게 만듬

## 5.2 모듈 가져오기와 내보내기

- import문을 이용하면 내보내기된 모듈을 지역 변수로 가져올 수 있으며, 기존 변수명과의 충돌을 피하고자 이름을 바꿔서 가져올 수 있다.
- export문을 이용하면 지역 모듈을 외부에서 읽을 수 있지만 수정할 수는 없도록 만들어준다.
- nomodule 속성은 브라우저에 모듈이 아님을 알려준다. 이 속성은 모듈 문법을 사용하지 않는 대체 스크립트에 유용하며, 모듈을 지원하지 않는 브라우저에서도 기능이 제대로 작동할 수 있도록 한다.

## 5.3 모듈 객체

- 모듈을 객체로 가져오면 모듈 리소스를 깔끔하게 가져올 수 있으며, 객체 하나만으로 여러 곳에서 사용할 수 있다.

## 5.4 외부 소스로부터 가져오는 모듈

- ES2015부터는 외부 소스에서 가져오는 원격 모듈을 쉽게 가져올 수 있게 되었다.

```jsx
import { cakeFactory } from "https://example.com"
```

## 5.5 정적으로 모듈 가져오기

- 위에서 나온 예시는 정적 가져오기라고 하며, 이는 메인 코드를 실행하기 전에 먼저 모듈을 다운로드하고 실행해야한다. 따라서 초기 페이지 로드시 많은 코들르 미리 로드해야하므로 성능에 문제가 생길 수 도 있다.

## 5.6 동적으로 모듈 가져오기

- 모듈을 초기에 미리 로드하기 보다는 필요한 시점에만 로드하는 것이 더 이로울 때가 있다.
- 지연 로딩 모듈을 사용하면 필요한 시점에 로드할 수 있으며 이를 통해 초기 로딩 시간을 줄일 수 있다.
- import(url)은 요청된 모듈의 네임스페이스 객체에 대한 프로미스 객체를 반환한다. 이 프로미스 객체는 모듈 자체와 모든 모듈 의존성을 가져온 후, 인스턴스화하고 평가한 뒤에 만들어진다.
- 동적 가져오기는 awiat과 함께 사용할 수 있으며 모듈이 사용될때만 다운로드 되고 실행된다.
- 사용자 상호 작용에 따라 가져오기
    - 일부 기능은 사용자 상호작용할 때만 필요할 수도 있다. 페이지 로드 시점에 필요한 게 아니라 사용자가 컴포넌트를 클릭하는 등 상호작용에 따라 로드되는 것이 좋다.
    - 동적 가져오기를 활용하면, 실행한 다음에 따라오는 함수를 통해 원하는 기능을 사용할 수 있다.
- 화면에 보이면 가져오기
    - 많은 컴포넌트는 처음에 숨겨져 있다가 사용자가 아래로 스크롤하면 나타나도록 만들어지곤 한다.
    - IntersectionObserver API를 사용하면 컴포넌트가 화면에 보이는지 감지할 수 있고 모듈을 동적으로 로드할 수 있다.

## 5.7 서버에서 모듈 사용하기

- Node 15.3.0 버너 이상에서는 자바스크립트 모듈을 지원한다.

## 5.8 모듈을 사용하면 생기는 이점

- 한번만 실행된다.
    - 기존 스크립트는 DOM에 추가될 때마다 실행되는 반면에 모듈 스크립트는 한번만 실행된다.
    - 의존성 트리의 가장 내부에 위치한 모듈이 먼저 실행되고 여기에 의존하는 모듈이 접근하는 방식
- 자동으로 지연로드 된다.
- 유지보수와 재사용이 쉽다.
- 네임 스페이스를 제공한다.
- 사용하지 않는 코드를 제거한다.

## 5.9 생성자, 게터, 세터를 가진 클래스

- ES2015+ 에서는 모듈뿐만 아니라 생성자와 내부를 숨기는 기능을 가진 클래스가 추가되었다.
- 모듈과 클래스의 차이점은 가져오기와 내보내기를 통해, 클래스스는 class 키워드를 통해 정의할 수 있다는 점이다.
- 클래스는 static 키워드를 통해 정적 메서드와 프로퍼티를 정의할 수 있다. 정적 멤버는 클래스를 초기화하지 않고도 사용할 수 있으며, 주로 어떠한 설정이나 캐시 데이터를 보관하기 위해 사용된다.

## 5.10 자바스크립트 프레임워크와 클래스

- 최신 자바스크립트 라이브러리와 프레임워크는 클래스의 대체제를 도입해 왔다.
- 특히 리액트 Hooks를 통해 클래스를 사용하지 않고도 리액트의 상태와 라이프사이클을 관리할 수 있게 되었지만, 클래스는 여전히 컴포넌트 개발에 사용되고 있다..